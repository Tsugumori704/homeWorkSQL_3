-- Table: public."Departments"

-- DROP TABLE public."Departments";

CREATE TABLE public."Departments"
(
    id integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ),
    financing money NOT NULL DEFAULT 0,
    name character varying(100) COLLATE pg_catalog."default",
    CONSTRAINT "Departments_pkey" PRIMARY KEY (id),
    CONSTRAINT uc_name_departments UNIQUE (name)
        INCLUDE(name),
    CONSTRAINT ch_financing CHECK (financing >= 0::money) NOT VALID,
    CONSTRAINT ch_name CHECK (name::text !~~ ' %'::text) NOT VALID
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER TABLE public."Departments"
    OWNER to postgres;





-- Table: public."Faculties"

-- DROP TABLE public."Faculties";

CREATE TABLE public."Faculties"
(
    id integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ),
    dean character varying COLLATE pg_catalog."default" NOT NULL,
    name character varying(100) COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT "Faculties_pkey" PRIMARY KEY (id),
    CONSTRAINT uc_name_faculties UNIQUE (name)
        INCLUDE(name),
    CONSTRAINT ch_dean CHECK (dean::text !~~ ' %'::text) NOT VALID,
    CONSTRAINT ch_name CHECK (name::text !~~ ' %'::text) NOT VALID
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER TABLE public."Faculties"
    OWNER to postgres;



-- Table: public."Group"

-- DROP TABLE public."Group";

CREATE TABLE public."Group"
(
    id integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ),
    name character varying(10) COLLATE pg_catalog."default" NOT NULL,
    rating integer NOT NULL,
    year integer NOT NULL,
    CONSTRAINT "Group_pkey" PRIMARY KEY (id),
    CONSTRAINT uc_name_group UNIQUE (name)
        INCLUDE(name),
    CONSTRAINT ch_name_group CHECK (name::text !~~ ' %'::text) NOT VALID,
    CONSTRAINT ch_year_group CHECK (year >= 1 AND year <= 5) NOT VALID,
    CONSTRAINT ch_rating_group CHECK (rating >= 0 AND rating <= 5) NOT VALID
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER TABLE public."Group"
    OWNER to postgres;



-- Table: public."Teachers"

-- DROP TABLE public."Teachers";

CREATE TABLE public."Teachers"
(
    id integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ),
    employment_date date NOT NULL,
    is_assistant bit(1) NOT NULL DEFAULT (0)::bit(1),
    is_professor bit(1) NOT NULL DEFAULT (0)::bit(1),
    name character varying COLLATE pg_catalog."default" NOT NULL,
    "position" character varying COLLATE pg_catalog."default" NOT NULL,
    premium money NOT NULL DEFAULT 0,
    salary money NOT NULL,
    surname character varying COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT teachers_pkey PRIMARY KEY (id),
    CONSTRAINT ch_employment_date CHECK (employment_date >= '1990-01-01'::date) NOT VALID,
    CONSTRAINT ch_name_teachers CHECK (name::text !~~ ' %'::text) NOT VALID,
    CONSTRAINT ch_position_teachers CHECK ("position"::text !~~ ' %'::text) NOT VALID,
    CONSTRAINT ch_premium_teachers CHECK (premium >= 0::money) NOT VALID,
    CONSTRAINT ch_salary_teachers CHECK (salary > 0::money) NOT VALID,
    CONSTRAINT ch_surname CHECK (surname::text !~~ ' %'::text) NOT VALID
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER TABLE public."Teachers"
    OWNER to postgres;